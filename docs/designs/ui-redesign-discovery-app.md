# SpotDiggz UIリデザイン設計書 — 「発見アプリ」への転換

📅 作成日: 2026-02-24
👥 参加者: 玉縄（UI/UX）、白鐘直斗（設計）
📋 ステータス: レビュー完了・実装待ち

---

## 1. プロダクトビジョン

| 項目 | 定義 |
|:--|:--|
| ワンライン | 近くのスケートスポットが、地図で、すぐ見つかる |
| ターゲット | 週末や休日に、いつもと違う場所で滑りたいスケーター |
| コアバリュー | スケートスポットの発見・検索ハブ（パーク＋ストリート統合） |
| ポジション | Instagram（コンテンツ）とSKEPA（情報）の間にある「地図ベースの入り口」 |
| やること | 地図で探す / スポット情報を見る / Instagram・公式サイトへの導線 / ナビ連携 |
| やらないこと | リアルタイム営業情報 / SNS機能 / 動画・写真のホスティング |

### データの責務分担

| 責務 | 担当 |
|:--|:--|
| 基本情報（位置・名前・セクション・営業時間） | SpotDiggz |
| ビジュアルコンテンツ（動画・写真） | Instagram（リンクアウト） |
| 最新の営業情報 | 公式サイト（リンクアウト） |
| ルート案内 | Google Maps / Apple Maps（リンクアウト） |

### 初期データ戦略

| 層 | 内容 | 品質 |
|:--|:--|:--|
| Tier 1: マスターデータ | 日本の主要スケートパーク。オーナーが手動キュレーション（SKEPA参考＋自身の知識） | Instagram URL ✅ / 公式サイト ✅ / 営業時間 ✅ / セクション ✅ |
| Tier 2: ユーザー登録 | ユーザーが地図上で追加。最低限の情報でOK | 位置情報 ✅ / スポット名 ✅ / その他は任意 |

---

## 2. ユーザージャーニー（ディシジョンファネル）

SpotDiggzのメインジャーニーは【発見 → 検証 → 確認 → 行動】の4ステップ。
UIの縦スクロールがそのままファネルになる設計。

```
① 発見 — 地図上でスポットのピンを見つける
  ↓
② 検証 — Instagramで実際の映像・写真を見る
  ↓
③ 確認 — 公式サイトで営業情報を確認する
  ↓
④ 行動 — ナビを起動して向かう
```

---

## 3. UI設計 — 7つの改善項目

### 🔴 P0-1: 地図フルスクリーン化

【現状の問題】
- 検索バー + タイプ選択チップ + ミニカードが固定領域を占有
- 地図の表示面積が画面の約60%程度に制限されている
- 「発見アプリ」としてのイマーシブ感が損なわれている

【改善方針】
- 地図を画面の90%以上に拡大
- 検索バーは半透明フローティングで地図上にオーバーレイ
- ミニカードはピン選択時のみボトムシートで表示

【レイアウト】

```
┌─────────────────────────────────┐
│ [🔍 スポットを探す...]  [≡ フィルタ] │  ← 半透明オーバーレイ（最小限）
├─────────────────────────────────┤
│                                 │
│                                 │
│         🗺️ フルスクリーン地図      │  ← 地図がメイン
│                                 │
│    🛹パーク   🔶ストリート         │  ← ピン（形状+色で区別）
│                                 │
│                                 │
│                           [＋]  │  ← スポット登録FAB（小さめ）
├─────────────────────────────────┤
│  ┌─ スポットミニカード ──────┐    │  ← ピン選択時のみ表示
│  │ 📍 ○○スケートパーク       │    │    ボトムシート（ハーフモーダル）
│  │ パーク ・ 2.3km先         │    │
│  │ [ナビ] [詳細を見る]       │    │
│  └──────────────────────────┘    │
└─────────────────────────────────┘
```

【実装上のポイント】
- `HomeView` の検索バー・チップの固定領域を廃止
- 検索バーは `.overlay()` で地図上にフローティング配置
- ミニカードは `.sheet(detents:)` でハーフモーダル化
- 【距離表示】を追加（現在地からの距離を算出して表示）

---

### 🔴 P0-2: スポット詳細CTA再設計

【現状の問題】
- CTAの優先順位がディシジョンファネルに沿っていない
- Instagram連携・外部リンクの導線がない/弱い
- 「ハブとしてのSpotDiggz」のデザインになっていない

【改善方針】
- CTAプライオリティを【Instagram > 公式サイト > ナビ】に再設定
- ページの縦スクロールがディシジョンファネルになる構造

【パーク用レイアウト】

```
┌─────────────────────────────────┐
│ [← 戻る]     ○○スケートパーク    │
├─────────────────────────────────┤
│  📸 画像カルーセル               │
├─────────────────────────────────┤
│                                 │
│  パーク ・ 営業中 ・ 2.3km先     │
│  東京都世田谷区○○               │
│                                 │
│  ┌────────────────────────────┐ │
│  │📷 Instagramで投稿を見る     │ │  ← P1: 検証CTA（最大）
│  └────────────────────────────┘ │
│                                 │
│  ── 営業情報 ──                  │  ← 詳細情報（自然にスクロール）
│  🕐 平日 9:00-21:00             │
│  🕐 土日 8:00-22:00             │
│  📞 03-xxxx-xxxx                │
│                                 │
│  ┌──────────┐ ┌──────────┐     │
│  │🌐 公式サイト│ │🧭 ナビで行く│  │  ← P2/P3: 確認+行動CTA
│  └──────────┘ └──────────┘     │
│                                 │
│  ── セクション情報 ──             │
│  ミニランプ / フラットレール / ...│
│  ── タグ ──                      │
│  #初心者OK #照明あり #駐車場あり │
└─────────────────────────────────┘
```

【ストリート用レイアウト】

```
┌─────────────────────────────────┐
│ [← 戻る]     △△ストリートスポット │
├─────────────────────────────────┤
│  📸 画像カルーセル               │
├─────────────────────────────────┤
│                                 │
│  ストリート ・ 1.8km先           │
│  大阪市○○区△△                   │
│                                 │
│  ┌────────────────────────────┐ │
│  │📷 Instagramで投稿を見る     │ │  ← P1: 検証CTA
│  └────────────────────────────┘ │
│                                 │
│  ── スポット情報 ──              │
│  路面: コンクリート              │
│  粗さ: ★★★☆☆  ひび割れ: ★☆☆☆☆ │
│  難易度: ★★★★☆                  │
│                                 │
│  ┌──────────────────────────┐   │
│  │🧭 ナビで行く              │   │  ← P2: 行動CTA（公式なし→昇格）
│  └──────────────────────────┘   │
│                                 │
│  ── セクション ──                │
│  レッジ x2 / 5段ステア / ...    │
│  ── タグ ──                      │
│  #夜OK #人少なめ                │
└─────────────────────────────────┘
```

【CTAの動的表示ルール】

| 状態 | Instagram CTA | 公式サイトCTA | ナビCTA |
|:--|:--|:--|:--|
| URL全部あり | 📷 表示（P1） | 🌐 表示（P2） | 🧭 表示（P3） |
| Instagram URLなし | 「Instagramでこの場所を検索」（フォールバック） | 🌐 表示 | 🧭 表示 |
| 公式サイトもなし | フォールバック or 非表示 | 非表示 | 🧭 表示（メインCTAに昇格） |

---

### 🟡 P1-1: 検索・フィルタのインタラクション設計

【通常状態】

```
┌─────────────────────────────┐
│ [🔍 スポットを探す...] [≡]   │  ← 半透明バー。ミニマム
│                             │
│        （地図フルスクリーン）   │
└─────────────────────────────┘
```

【検索バータップ後】

```
┌─────────────────────────────┐
│ [🔍 入力中..._____] [✕]     │  ← フォーカス。キーボード表示
├─────────────────────────────┤
│ [すべて] [パーク] [ストリート] │  ← タイプフィルタ（チップ）
├─────────────────────────────┤
│ 📍 新宿区のパーク  (3件)     │  ← サジェスト/検索結果
│ 📍 渋谷区のスポット (7件)    │  ← 地名ベースのグルーピング
│ 📍 ○○スケートパーク          │  ← 個別スポット名マッチ
└─────────────────────────────┘
```

【フィルタ（≡）タップ後】

```
┌─────────────────────────────────┐
│ [🔍 スポットを探す...] [✕]       │
├─────────────────────────────────┤
│ タイプ: [すべて][パーク][ストリート] │
│ タグ:   [#初心者OK][#照明あり]...   │
│ 距離:   [5km以内 ▼]                │
│                                   │
│ [フィルタを適用]                    │
└─────────────────────────────────┘
```

【ポイント】
- 普段は1行の検索バーだけ。地図を邪魔しない
- タップするとハーフモーダル的に展開
- `✕` で閉じたら即座に地図に戻る
- 現在のチップ常時表示を廃止 → フィルタパネル内に収納

---

### 🟡 P1-2: スポット登録フローの簡素化

【現状の問題】
- 地図上のドラフトピン → FABの色変化（青→赤）が直感的でない
- テキストがなく、初見ユーザーには操作がわからない
- FABが大きく、メインの地図エクスペリエンスを邪魔している

【改善方針】
明示的なインストラクション + 2ステップ化。

【ステップ1: 通常状態】

```
                        [＋]  ← 小さめのFAB。目立ちすぎない
```

【ステップ2: ＋タップ後（位置選択モード）】

```
┌─────────────────────────────┐
│ 「地図をタップしてスポットの │
│  位置を選んでください」      │  ← インストラクション表示
│                             │
│        ＋（十字マーク）       │  ← 地図中央に配置
│                             │
│ [この位置で登録] [キャンセル] │  ← 下部にアクションバー
└─────────────────────────────┘
```

【ステップ3: 「この位置で登録」タップ後】
→ 登録フォーム（フルスクリーンモーダル）に遷移

【登録フォーム — リンク情報セクション】

```
── リンク情報（任意） ──────────
🔗 Instagram位置情報ページURL
   ┌────────────────────────┐
   │ https://...            │
   └────────────────────────┘
   ℹ️ Instagramアプリで場所を検索し、
     位置情報ページのURLをペーストしてください

🔗 公式サイトURL
   ┌────────────────────────┐
   │ https://...            │
   └────────────────────────┘
──────────────────────────────
```

---

### 🟢 P2-1: Instagram URL任意化 + フォールバック

【データモデル変更】
- `SdzSpot` に `instagramLocationUrl: String?`（任意フィールド）を追加
- 既存の `officialUrl` と同列で管理

【フォールバックUI】
Instagram URLが未設定の場合：

```
┌────────────────────────────┐
│📷 Instagramでこの場所を検索  │  ← Instagramアプリを開く
└────────────────────────────┘
```

- `instagram://` URLスキームでInstagramアプリを起動
- スポット名を検索クエリとして渡す（可能な範囲で）
- Instagram未インストール時はWeb版にフォールバック

---

### 🟢 P2-2: 一覧画面の役割再定義

【地図（Tab 1）との棲み分け】

| 地図（Tab 1） | 一覧（Tab 2） |
|:--|:--|
| 「今いる場所の近くにあるスポット」 | 「条件で絞り込んでスポットを比較」 |
| ビジュアル・直感的 | テキスト・分析的 |
| 「どこにあるか」が主軸 | 「どんなスポットか」が主軸 |

【レイアウト】

```
┌─────────────────────────────┐
│ [🔍 検索]                    │
│ [すべて] [パーク] [ストリート] │
│ [並び替え: 近い順 ▼]         │
├─────────────────────────────┤
│ ┌─────────────────────────┐ │
│ │ 📸│ ○○スケートパーク      │ │
│ │   │ パーク ・ 2.3km先    │ │
│ │   │ ★ ミニランプ ★ フラット │ │
│ └─────────────────────────┘ │
│ ┌─────────────────────────┐ │
│ │ 📸│ △△ストリートスポット  │ │
│ │   │ ストリート ・ 5.1km先 │ │
│ │   │ ★ レッジ ★ ステア    │ │
│ └─────────────────────────┘ │
└─────────────────────────────┘
```

【ポイント】
- デフォルトソート: 距離順（近い順）
- カードにセクション情報のサマリを表示
- サムネイルは小さめ。情報のスキャナビリティ優先

---

### 🔵 P3: ピンのビジュアルランゲージ（別課題）

【方針】
- 色だけでなく【色 + 形状 + アイコンシルエット】の3要素で区別
- パーク: 丸みのある形状 + 暖色系
- ストリート: 角張った形状 + 寒色系
- 具体的なアイコンデザインは別課題として対応

---

## 4. 実装プライオリティ

| 優先度 | # | 項目 | 依存関係 |
|:--|:--|:--|:--|
| 🔴 P0 | 1 | 地図フルスクリーン化 | — |
| 🔴 P0 | 2 | スポット詳細CTA再設計 | — |
| 🟡 P1 | 3 | 検索・フィルタのインタラクション | #1（フルスクリーン化）とセット |
| 🟡 P1 | 4 | 登録フローの簡素化 | #1（フルスクリーン化）と関連 |
| 🟢 P2 | 5 | Instagram URL任意化 + フォールバック | #2（詳細CTA）とセット |
| 🟢 P2 | 6 | 一覧画面の役割再定義 | 単独で対応可 |
| 🔵 P3 | 7 | ピンのビジュアルランゲージ | 別課題。デザインアセット制作後 |

---

## 5. 既存サービスの弱点分析（SpotDiggzの差別化根拠）

| サービス | 強み | 弱み |
|:--|:--|:--|
| Instagram | 動画・写真が豊富、位置情報UIが秀逸 | 検索性が低い。ピンポイントで辿り着けないと情報が見えない |
| SKEPA | 日本のパーク情報が正確・詳細 | SEOが弱く発見されにくい。地図ベースの一覧性がない |
| Googleマップお気に入り | 個人的なスポット管理には十分 | 共有性がない。スケート特化情報を持てない |

SpotDiggzは【地図ベースの一覧性・検索性】と【スケートに特化した情報の集約】を提供する。
コンテンツ（Instagram）と情報（SKEPA）の間にある「地図ベースの入り口」。
